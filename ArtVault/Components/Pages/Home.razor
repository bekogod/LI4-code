@page "/"
@using ArtVault.Business
@using ArtVault.Components.Layout
@inject NavigationManager NavManager
@inject IArtVaultFacade IAVFacade

<PageTitle>artVault</PageTitle>

@foreach(Leilao l in IAVFacade.getXLeiloes(10))
{
    <LeilaoComponent LeilaoInstance=l/>
}

@code {
    private string UserName;

    protected override void OnInitialized()
    {
        // Call the getUser method from IArtVaultFacade to get the user's name
        if (IAVFacade.GetUserAtual() != null) UserName = IAVFacade.GetUtilizadorAtualName();
        else UserName = "Stranger";
    }
}
